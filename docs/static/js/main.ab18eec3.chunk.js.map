{"version":3,"sources":["Gantt/Gantt.js","App.js","index.js"],"names":["Gantt","svgRef","React","useRef","taskArray","medicamento","via","dosis","regimen","disolucion","startTime","endTime","w","h","length","useEffect","tickScale","d3","domain","range","svgEl","current","selectAll","remove","svg","append","attr","dateFormat","timeScale","d","categories","i","push","catsUnfiltered","getCount","word","arr","obj","getCounts","hash","result","l","hasOwnProperty","checkUnique","tasks","pageWidth","pageHeight","colorScale","interpolate","theSidePad","theTopPad","call","tickSize","style","theArray","theGap","leftPadding","theBarHeight","theColorScale","data","enter","rectangles","innerRects","text","on","e","tag","this","output","document","getElementById","x","animVal","getItem","y","innerHTML","top","left","display","value","width","drawRects","barHeight","numOccurances","prevGap","j","darker","vertLabels","makeGant","ref","height","App","align","id","className","ReactDOM","render"],"mappings":"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","file":"static/js/main.ab18eec3.chunk.js","sourcesContent":["import React from \"react\";\nimport * as d3 from \"d3\";\n// import * as d3 from \"https://cdn.skypack.dev/d3@7\";\n\nexport const Gantt = () =>{ \n  const svgRef = React.useRef(null);\n\n\n  const taskArray = [\n    {\n      medicamento: \"Atropina\",\n      via: \"Intravenoso\",\n      dosis: \"50mg Frasco Amp.\",\n      regimen:\"Cada 12 horas\",\n      disolucion: \"SF 20ml\",\n      startTime: \"2021-2-2\", //year/month/day\n      endTime: \"2021-2-4\"\n    },\n\n    {\n      medicamento: \"Hidrocortizona\",\n      via: \"Intravenoso\",\n      dosis: \"50mg Frasco Amp.\",\n      regimen:\"Cada 8 horas\",\n      disolucion: \"SF 20ml\",\n      startTime: \"2021-2-1\", //year/month/day\n      endTime: \"2021-2-5\"\n    },\n\n    {\n      medicamento: \"Lansoprazol\",\n      via: \"Intravenoso\",\n      dosis: \"30mg Frasco Amp.\",\n      regimen:\"Cada 24 horas\",\n      disolucion: \"-----\",\n      startTime: \"2021-2-5\", //year/month/day\n      endTime: \"2021-2-8\"\n    },\n\n    {\n      medicamento: \"Amiodarona Clorhidrato\",\n      via: \"Oral\",\n      dosis: \"200mg Comprimido\",\n      regimen:\"Cada 12 horas\",\n      disolucion: \"Iniciar al teminal BIC\",\n      startTime: \"2021-2-2\", //year/month/day\n      endTime: \"2021-2-4\"\n    },\n\n    {\n      medicamento: \"Omeprazol \",\n      via: \"Oral\",\n      dosis: \"20mg Cápsula\",\n      regimen:\"Cada 24 horas\",\n      disolucion: \"-----\",\n      startTime: \"2021-2-1\", //year/month/day\n      endTime: \"2021-2-6\"\n    },\n\n    {\n      medicamento: \"Fenoterol\",\n      via: \"Nebulizacion\",\n      dosis: \"20ml Frasco Amp.\",\n      regimen:\"Cada 4 horas\",\n      disolucion: \"----\",\n      startTime: \"2021-2-4\", //year/month/day\n      endTime: \"2021-2-8\"\n    },\n\n    {\n      medicamento: \"Salbutamol\",\n      via: \"Inhalatorio\",\n      dosis: \"0.5% Frasco\",\n      regimen:\"Cada 8 horas\",\n      disolucion: \"SOS\",\n      startTime: \"2021-2-6\", //year/month/day\n      endTime: \"2021-2-8\"\n    },\n\n  ];\n\n  const w = 800 ;\n  const h = taskArray.length*(20+24)  ;\n\nReact.useEffect( ()=> {\n \n\n  const tickScale = d3.scaleLinear()\n        .domain([1, 7])\n        .range([122, 270]);\n\n\n  const svgEl = d3.select(svgRef.current);\n  svgEl.selectAll(\"*\").remove(); // Clear svg content before adding new elements\n  const svg = svgEl\n      .append(\"g\")\n      .attr(\"width\", \"100%\")\n      .attr(\"height\",\"100%\")\n      .attr(\"class\", \"svg\")\n      .attr(\"overflow\",\"scroll\");\n\n  svg.append(\"rect\")\n    .attr( \"width\" , w )\n    .attr( \"height\", tickScale( taskArray.length ) + 43 )\n    .attr(\"rx\", 4)\n    .attr(\"ry\", 4)\n    .attr( \"fill\", \"#E1DEE9\")\n    .attr( \"opacity\",\"0.59\");\n\n\n  const dateFormat =  d3.timeParse(\"%Y-%m-%d\");\n\n  const timeScale = d3.scaleTime()\n        .domain([d3.min(taskArray, function(d) {return dateFormat(d.startTime);}),\n                d3.max(taskArray, function(d) {return dateFormat(d.endTime);})])\n        .range([0,w-150]);\n\n\n  let categories = [];\n\n  for (let i = 0; i < taskArray.length; i++){\n    categories.push( taskArray[i].via );\n  }\n\n  let catsUnfiltered = categories; //for vert labels\n\n  categories = checkUnique(categories);\n\n\n  makeGant(taskArray, w, h);\n\n  // Titulo\n  svg.append(\"text\")\n      .text(\"Diagrama de medicación\")\n      .attr(\"x\", w/2)\n      .attr(\"y\", 50)\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", 20)\n      .attr(\"fill\", \"#2F4858\")\n      .attr(\"opacity\",\"0.8\");\n              \n  function makeGant(tasks, pageWidth, pageHeight) {\n\n      const barHeight = 20 ;\n      const gap = barHeight +5;\n      const topPadding = 70;\n      const sidePadding = 125;\n      const leftPadding = 20;\n\n      const colorScale = d3.scaleLinear()\n        .domain([0, categories.length])\n        .range([\"#00B9FA\", \"#F95002\"])\n        .interpolate(d3.interpolateHcl);\n\n      makeGrid(sidePadding, topPadding, pageWidth, pageHeight);\n      drawRects(tasks, gap, topPadding, leftPadding, sidePadding, barHeight, colorScale, pageWidth, pageHeight);\n      vertLabels(gap, topPadding, sidePadding, barHeight, colorScale);\n\n  }\n\n\n  function drawRects(theArray, theGap, theTopPad, leftPadding, theSidePad, theBarHeight, theColorScale, w, h){\n\n    svg.append(\"g\")\n        .attr(\"id\",\"rect_vias\")\n        .selectAll(\"rect\")\n        .data(theArray)\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", leftPadding )\n        .attr(\"y\", function(d, i){\n            return i*theGap + theTopPad - 2;\n        })\n        .attr(\"width\", function(d){\n          return w-theSidePad/3  ;\n        })\n        .attr(\"height\", theGap)\n        .attr(\"stroke\", \"none\")\n        .attr(\"fill\", function(d){\n          for (let i = 0; i < categories.length; i++){\n              if (d.via === categories[i]){\n                return d3.rgb(theColorScale(i));\n              }\n          }\n        })\n        .attr(\"opacity\", 0.2);\n\n\n      const rectangles = svg.append('g')\n      .attr(\"id\",\"medicamentos\")\n      .selectAll(\"rect\")\n      .data(theArray)\n      .enter();\n      \n\n\n      const innerRects = rectangles.append(\"rect\")\n            .attr(\"rx\", 3)\n            .attr(\"ry\", 3)\n            .attr(\"x\", function(d){\n              return timeScale(dateFormat(d.startTime)) + theSidePad ;\n              })\n            .attr(\"y\", function(d, i){\n                return i*theGap + theTopPad;\n            })\n            .attr(\"width\", function(d){\n                return (timeScale(dateFormat(d.endTime))-timeScale(dateFormat(d.startTime)));\n            })\n            .attr(\"height\", theBarHeight)\n            .attr(\"stroke\", \"none\")\n            .attr(\"fill\", function(d){\n              for (let i = 0; i < categories.length; i++){\n                  if (d.via === categories[i]){\n                    return d3.rgb(theColorScale(i));\n                  }\n              }\n            })\n  \n\n      const rectText = rectangles.append(\"text\")\n            .text( (d) =>  d.medicamento)\n            .attr(\"x\", (d)=>(timeScale(dateFormat(d.endTime))-timeScale(dateFormat(d.startTime)))/2 + timeScale(dateFormat(d.startTime)) + theSidePad)\n            .attr(\"y\", (d, i)=> i*theGap + 14+ theTopPad)\n            .attr(\"font-size\", 14)\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"text-height\", theBarHeight)\n            .attr(\"fill\", \"#fff\")\n            .attr(\"cursor\",\"pointer\")\n            // cursor=\"pointer\" pointer-events=\"all\"\n\n\n      rectText.on('mouseover', function(e) {\n      //  console.log(this.x.animVal.getItem(this));\n              let tag = \"\";\n\n        if (d3.select(this).data()[0].medicamento !== undefined){\n          tag = \"Medicamento: \" + d3.select(this).data()[0].medicamento + \"<br/>\" + \n                \"Via: \" + d3.select(this).data()[0].via + \"<br/>\" + \n                \"dosis: \" + d3.select(this).data()[0].dosis + \"<br/>\" + \n                \"Regimen: \" + d3.select(this).data()[0].regimen + \"<br/>\" + \n                \"Starts: \" + d3.select(this).data()[0].startTime + \"<br/>\" + \n                \"Ends: \" + d3.select(this).data()[0].endTime + \"<br/>\" + \n                \"Disolucion/Otro: \" + d3.select(this).data()[0].disolucion;\n        } else {\n          tag = \"Medicamento: \" + d3.select(this).data()[0].medicamento + \"<br/>\" + \n                \"Via: \" + d3.select(this).data()[0].via + \"<br/>\" + \n                \"dosis: \" + d3.select(this).data()[0].dosis + \"<br/>\" + \n                \"Regimen: \" + d3.select(this).data()[0].regimen + \"<br/>\" + \n                \"Starts: \" + d3.select(this).data()[0].startTime + \"<br/>\" + \n                \"Ends: \" + d3.select(this).data()[0].endTime + \"<br/>\" + \n                \"Disolucion/Otro: \" + d3.select(this).data()[0].disolucion;\n        }\n          \n          const output = document.getElementById(\"tag\");\n          const x = this.x.animVal.getItem(this) + \"px\";\n          const y = this.y.animVal.getItem(this) + 25 + \"px\";\n\n        output.innerHTML = tag;\n        output.style.top = y ;\n        output.style.left = x ;\n        output.style.display = \"block\";\n      }).on('mouseout', function() {\n        const output = document.getElementById(\"tag\");\n        output.style.display = \"none\";\n            });\n\n\n      innerRects.on('mouseover', function(e) {\n      // console.log(this);\n            let tag = \"\";\n\n            if (d3.select(this).data()[0].medicamento !== undefined){\n              tag = \"Medicamento: \" + d3.select(this).data()[0].medicamento + \"<br/>\" + \n              \"Via: \" + d3.select(this).data()[0].via + \"<br/>\" + \n              \"dosis: \" + d3.select(this).data()[0].dosis + \"<br/>\" + \n              \"Regimen: \" + d3.select(this).data()[0].regimen + \"<br/>\" + \n              \"Starts: \" + d3.select(this).data()[0].startTime + \"<br/>\" + \n              \"Ends: \" + d3.select(this).data()[0].endTime + \"<br/>\" + \n              \"Disolucion/Otro: \" + d3.select(this).data()[0].disolucion;\n            } else {\n              tag = \"Medicamento: \" + d3.select(this).data()[0].medicamento + \"<br/>\" + \n              \"Via: \" + d3.select(this).data()[0].via + \"<br/>\" + \n              \"dosis: \" + d3.select(this).data()[0].dosis + \"<br/>\" + \n              \"Regimen: \" + d3.select(this).data()[0].regimen + \"<br/>\" + \n              \"Starts: \" + d3.select(this).data()[0].startTime + \"<br/>\" + \n              \"Ends: \" + d3.select(this).data()[0].endTime + \"<br/>\" + \n              \"Disolucion/Otro: \" + d3.select(this).data()[0].disolucion;\n            }\n            const output = document.getElementById(\"tag\");\n\n            const x = (this.x.animVal.value + this.width.animVal.value/2 +200) + \"px\";\n            const y = this.y.animVal.value + 25 + \"px\";\n\n            output.innerHTML = tag;\n            output.style.top = y;\n            output.style.left = x  ;\n            output.style.display = \"block\";\n          }).on('mouseout', function() {\n                const output = document.getElementById(\"tag\");\n                output.style.display = \"none\";\n\n              });\n\n  }\n\n\n  function makeGrid(theSidePad, theTopPad, w, h){\n\n    // grid\n    svg.append(\"g\")\n    .attr('class', 'grid')\n    .attr('transform', 'translate(' + theSidePad + ', '  + tickScale( taskArray.length )+ ')')\n    .call(d3.axisBottom(timeScale).tickSize([ theTopPad - tickScale( taskArray.length )]))\n    .selectAll(\"text\")  \n                .style(\"text-anchor\", \"middle\")\n                .attr(\"fill\", \"#000\")\n                .attr(\"stroke\", \"none\")\n                .attr(\"font-size\", 11)\n                .attr(\"dy\", \"1em\")\n                .attr('transform','rotate(45 0 0)');\n    \n  }\n\n  function vertLabels(theGap, theTopPad, theSidePad, theBarHeight, theColorScale){\n      let numOccurances = [] ;\n      let prevGap = 0;\n\n      for (let i = 0; i < categories.length; i++){\n        numOccurances[i] = [categories[i], getCount(categories[i], catsUnfiltered)];\n      }\n      // axisText\n    svg.append(\"g\") //without doing this, impossible to put grid lines behind text\n      .attr(\"id\",\"Vias\")\n      .selectAll(\"text\")\n      .data(numOccurances)\n      .enter()\n      .append(\"text\")\n      .text(function(d){\n        return d[0];\n      })\n      .attr(\"x\", 35 )\n      .attr(\"y\", function(d, i){\n        if (i > 0){\n            for (let j = 0; j < i; j++){\n              prevGap += numOccurances[i-1][1];\n            // console.log(prevGap);\n              return d[1]*theGap/2 + prevGap*theGap + theTopPad;\n            }\n        } else{\n        return d[1]*theGap/2 + theTopPad;\n        }\n      })\n      .attr(\"font-size\", 14)\n      .attr(\"text-anchor\", \"start\")\n      .attr(\"text-height\", 14)\n      .attr(\"fill\", function(d){\n        for (let i = 0; i < categories.length; i++){\n            if (d[0] === categories[i]){\n            //  console.log(\"true!\");\n              return d3.rgb(theColorScale(i)).darker();\n            }\n        }\n      });\n\n  }\n\n  //from this stackexchange question: http://stackoverflow.com/questions/1890203/unique-for-arrays-in-javascript\n  function checkUnique(arr) {\n    let hash = {}, result = [];\n    for ( let i = 0, l = arr.length; i < l; ++i ) {\n        if ( !hash.hasOwnProperty(arr[i]) ) { //it works with objects! in FF, at least\n            hash[ arr[i] ] = true;\n            result.push(arr[i]);\n        }\n    }\n    return result;\n  }\n\n  //from this stackexchange question: http://stackoverflow.com/questions/14227981/count-how-many-strings-in-an-array-have-duplicates-in-the-same-array\n  function getCounts(arr) {\n    let i = arr.length, // let to loop over\n        obj = {}; // obj to store results\n    while (i) obj[arr[--i]] = (obj[arr[i]] || 0) + 1; // count occurrences\n    return obj;\n  }\n\n  // get specific from everything\n  function getCount(word, arr) {\n    return getCounts(arr)[word] || 0;\n  }\n\n},[taskArray,h,w]) ;\n  return <svg ref={svgRef} width={w} height={h} />;\n}\n","import React from 'react';\nimport { Gantt } from './Gantt/Gantt';\n\nimport \"./Gantt/style.css\" ;\n\nfunction App() {\n  return (\n    <div>\n     <h1 align=\"center\"> D3 on React</h1>\n     <div id = \"container\">\n        <div className = \"svg\">\n          <Gantt />\n        </div>\n        <div id = \"tag\"></div>\n        \n    </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render( <App />,document.getElementById('root') );\n\n"],"sourceRoot":""}